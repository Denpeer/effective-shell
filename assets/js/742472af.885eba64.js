"use strict";(self.webpackChunkeffective_shell=self.webpackChunkeffective_shell||[]).push([[2253],{4137:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=i,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7136:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var r=n(7462),i=n(3366),a=(n(7294),n(4137)),o=["components"],s={title:"Recording Terminal Sessions"},c=void 0,l={unversionedId:"zz-developer-guide/recording-terminal-sessions",id:"zz-developer-guide/recording-terminal-sessions",title:"Recording Terminal Sessions",description:"There are a couple of techniques that can be useful to record terminal sessions. The first is the asciinema too. The second is the script and scriptreplay commands, which can be used to record the actual keystrokes typed and then reply them.",source:"@site/docs/zz-developer-guide/recording-terminal-sessions.mdx",sourceDirName:"zz-developer-guide",slug:"/zz-developer-guide/recording-terminal-sessions",permalink:"/zz-developer-guide/recording-terminal-sessions",editUrl:"https://github.com/dwmkerr/effective-shell/edit/main/docs/zz-developer-guide/recording-terminal-sessions.mdx",tags:[],version:"current",frontMatter:{title:"Recording Terminal Sessions"},sidebar:"anotherSidebar",previous:{title:"Images and Diagrams",permalink:"/zz-developer-guide/images-and-diagrams"}},p={},u=[{value:"Asciinema",id:"asciinema",level:2},{value:"Script Recording",id:"script-recording",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"There are a couple of techniques that can be useful to record terminal sessions. The first is the ",(0,a.kt)("a",{parentName:"p",href:"https://asciinema.org"},(0,a.kt)("inlineCode",{parentName:"a"},"asciinema"))," too. The second is the ",(0,a.kt)("inlineCode",{parentName:"p"},"script")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"scriptreplay")," commands, which can be used to record the actual keystrokes typed and then reply them."),(0,a.kt)("h2",{id:"asciinema"},"Asciinema"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://asciinema.org"},(0,a.kt)("inlineCode",{parentName:"a"},"asciinema"))," tool can record the output of terminal sessions. You can see the results in action in pages like ",(0,a.kt)("a",{parentName:"p",href:"/part-6-advanced-techniques/master-the-multiplexer/"},"Chapter 33 - Master the Multiplexer"),"."),(0,a.kt)("p",null,"Some tips for working with ",(0,a.kt)("inlineCode",{parentName:"p"},"asciinema"),":"),(0,a.kt)("p",null,"To record a Tmux session, you will need to start ",(0,a.kt)("em",{parentName:"p"},"detached")," from Tmux and then attach. You can do this by hand, simply using ",(0,a.kt)("inlineCode",{parentName:"p"},"tmux attach"),", but this adds some noise to the beginning of the recording. A better way is to use the command below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'asciinema rec --command "tmux attach [-t session-name]"\n')),(0,a.kt)("h2",{id:"script-recording"},"Script Recording"),(0,a.kt)("p",null,"Record a shell session by running:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# Start recording...\nscript recording.txt\n\n# ...run your commands...\n\n# Finish the recording.\nexit\n")),(0,a.kt)("p",null,"Once you have this recording, you can use it to rapidly record an ",(0,a.kt)("inlineCode",{parentName:"p"},"asciinema")," file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'asciinema rec --command "tmux attach [-t session-name] && scriptreplay recording.txt"\n')),(0,a.kt)("p",null,"It can be helpful to ",(0,a.kt)("em",{parentName:"p"},"not")," record a timing file for the keystrokes. If your typing is slow or irregular, or you have to look something up halfway through a script, then having a consistent typing speed provided via a script is better. One way to do this is with the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/scoopex/scriptreplay_ng"},(0,a.kt)("inlineCode",{parentName:"a"},"scriptreplay_ng"))," tool."))}m.isMDXComponent=!0}}]);